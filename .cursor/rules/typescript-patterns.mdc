# TypeScript Patterns & Type Safety

## Core Type Safety Requirements

This project enforces **complete type safety** throughout the application stack.

## Database Type Patterns

### Always Import Schema Types

```typescript
// Required imports for all database operations
import { 
  Vocabulary, NewVocabulary, VocabularyUpdate,
  Lesson, NewLesson, LessonUpdate,
  GrammarRule, NewGrammarRule 
} from '../schema';
import { Database } from '../schema';
```

### Type-Safe Query Patterns

```typescript
// Use proper Kysely types
const vocabulary: Vocabulary[] = await db
  .selectFrom('vocabulary')
  .selectAll()
  .where('category', '=', category)
  .execute();

// Transaction types
await db.transaction().execute(async (trx: Transaction<Database>) => {
  // trx operations
});
```

## Route Type Patterns

### TanStack Router Types

```typescript
import { createFileRoute } from '@tanstack/react-router'

// Properly typed route with params
export const Route = createFileRoute('/lessons/$categoryId/$lessonId')({
  component: LessonComponent,
  loader: async ({ params }) => {
    // params.categoryId and params.lessonId are typed
  },
})
```

## Component Type Patterns

### Props Interfaces

```typescript
interface VocabularyCardProps {
  vocabulary: Vocabulary;  // Use database types
  onEdit?: (vocab: VocabularyUpdate) => void;
}
```

### Greek Learning Domain Types

```typescript
// Use specific types for Greek learning concepts
type SectionType = 'vocabulary' | 'grammar' | 'examples' | 'notes';
type QuestionType = 'multiple_choice' | 'translation' | 'fill_blank';
type VerbPattern = 'Type A' | 'Type B' | 'Irregular';
```

## Required Type Safety Rules

1. **No `any` types** - use proper TypeScript types
2. **Database operations** must use schema types
3. **Route params** must be properly typed
4. **Component props** must have interfaces
5. **Greek text handling** - always specify string encoding
6. **Query results** must be typed with schema types

## Anti-Patterns

❌ `any` type usage
❌ Untyped database queries  
❌ Missing component prop interfaces
❌ Raw SQL without types
❌ Untyped route parameters
